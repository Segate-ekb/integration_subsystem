////////////////////////////////////////////////////////////////////////////////
// HTTP-сервис: integration
//
// Описание:
//  HTTP-сервис для приема входящих сообщений от внешних систем.
//  Предоставляет API для отправки данных в потоки интеграции.
//
// Методы:
//  POST /{flow_id} - Принять входящее сообщение для указанного потока
//  GET  /testping  - Проверка доступности сервиса (health check)
//
// Формат URL:
//  http://<сервер>/integration_subsystem/hs/integration/{flow_id}
//  где {flow_id} - код (идентификатор) входящего потока данных
//
// Пример использования:
//  POST http://server/integration_subsystem/hs/integration/order_create
//  Content-Type: application/json
//  
//  {
//    "orderId": "12345",
//    "customer": "ООО Рога и Копыта",
//    "amount": 50000
//  }
//
////////////////////////////////////////////////////////////////////////////////

// Функция - Обработка входящего POST-запроса
//
// Параметры:
//  Запрос - HTTPСервисЗапрос - Входящий HTTP-запрос
//
// Возвращаемое значение:
//  HTTPСервисОтвет - Ответ с кодом состояния:
//    200 - сообщение успешно принято и обработано
//    400 - некорректный запрос или данные
//    404 - поток данных не найден
//    500 - внутренняя ошибка при обработке
//
Функция incommingPOST(Запрос)
   Возврат инт_ОбработкаВходящихОбращенийHTTP.ОбработкаВходящегоПотокаPOST(Запрос);
КонецФункции

// Функция - Проверка доступности сервиса (health check)
//
// Параметры:
//  Запрос - HTTPСервисЗапрос - Входящий HTTP-запрос
//
// Возвращаемое значение:
//  HTTPСервисОтвет - Ответ с кодом 200, подтверждающий доступность сервиса
//
// Описание:
//  Простой эндпоинт для проверки работоспособности сервиса интеграции.
//  Используется системами мониторинга для health checks.
//
Функция testping(Запрос)
    Ответ = Новый HTTPСервисОтвет(200);
    Возврат Ответ;
КонецФункции
