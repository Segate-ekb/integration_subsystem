////////////////////////////////////////////////////////////////////////////////
// инт_КонсьюмерОчередейПовтИсп
//
// Модуль с повторно используемыми функциями для консьюмера очередей.
////////////////////////////////////////////////////////////////////////////////

#Область СлужебныйПрограммныйИнтерфейс

// Возвращает стабильный идентификатор consumer group для Kafka.
// При первом обращении генерирует UUID и сохраняет в константу.
//
// Возвращаемое значение:
//  Строка - Стабильный идентификатор ИБ
//
Функция ПолучитьИдентификаторИБ() Экспорт
	
	Значение = Константы.инт_КонсьюмерГруппаПоУмолчанию.Получить();
	
	Если НЕ ПустаяСтрока(Значение) Тогда
		Возврат Значение;
	КонецЕсли;
	
	// Первая инициализация — генерируем UUID и сохраняем
	Значение = СтрЗаменить(Строка(Новый УникальныйИдентификатор), "-", "");
	Константы.инт_КонсьюмерГруппаПоУмолчанию.Установить(Значение);
	
	Возврат Значение;
	
КонецФункции

#КонецОбласти
