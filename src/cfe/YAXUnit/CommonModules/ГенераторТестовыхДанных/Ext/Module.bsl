// BSLLS-off
////////////////////////////////////////////////////////////////////////////////
// ГенераторТестовыхДанных
//  
////////////////////////////////////////////////////////////////////////////////

#Область ПрограммныйИнтерфейс

// Функция - Подписчик
// 
// Параметры:
//  ТипПодписчика - ПеречислениеСсылка.инт_ТипыПодписчиков, Неопределено - Тип подписчика (по умолчанию HTTP)
//  КоличествоПопытокОтправки - Число - Количество попыток отправки (0 = случайное)
//  ПаузаМеждуПопыткамиОбработки - Число - Пауза в секундах
//  Активен - Булево - Признак активности подписчика
//
// Возвращаемое значение:
//  ОпределяемыйТип.инт_Подписчик - Ссылка на фиктивного подписчика
//
Функция Подписчик(ТипПодписчика = Неопределено, КоличествоПопытокОтправки =0, ПаузаМеждуПопыткамиОбработки=0, Активен=Истина) Экспорт
    Данные = ЮТест.Данные();
    МенеджерСправочника = МенеджерСправочникаПодписчиков(ТипПодписчика);
    Конструктор = Данные.КонструкторОбъекта(МенеджерСправочника)
    .ФикцияОбязательныхПолей()
    .Установить("КоличествоПопытокОтправки", ?(КоличествоПопытокОтправки = 0, Данные.СлучайноеЧисло(1, 4), КоличествоПопытокОтправки))
    .Установить("ПаузаМеждуПопыткамиОбработки", ПаузаМеждуПопыткамиОбработки)
    .Установить("Активен", Активен);
    
    Возврат Конструктор.Записать();
КонецФункции

Функция НеОшибочныйСтатусРассылкиСообщений() Экспорт
    Данные = ЮТест.Данные();
    ЭтотСтатусПодходит = Ложь;
    Пока Не ЭтотСтатусПодходит Цикл
        
        Статус = Данные.СлучайноеЗначениеПеречисления(Перечисления.инт_СтатусыРассылкиИсходящихСообщений);
        Если Не Перечисления.инт_СтатусыРассылкиИсходящихСообщений.ЭтоОшибочныйСтатус(Статус) Тогда
            ЭтотСтатусПодходит = Истина;
        КонецЕсли;
    КонецЦикла;
    
    Возврат Статус;
    
КонецФункции

Функция ОшибочныйСтатусРассылкиСообщений() Экспорт
    Данные = ЮТест.Данные();
    ЭтотСтатусПодходит = Ложь;
    Пока Не ЭтотСтатусПодходит Цикл
        
        Статус = Данные.СлучайноеЗначениеПеречисления(Перечисления.инт_СтатусыРассылкиИсходящихСообщений);
        Если Перечисления.инт_СтатусыРассылкиИсходящихСообщений.ЭтоОшибочныйСтатус(Статус) Тогда
            ЭтотСтатусПодходит = Истина;
        КонецЕсли;
    КонецЦикла;
    
    Возврат Статус;
    
КонецФункции

Функция ПотокДанныхИсходящий(Активен = Истина,КоличествоПопытокОбработки =0, ПаузаМеждуПопыткамиОбработки=0, Валидация = Ложь, ИдентификаторПотока = "") Экспорт
    
        НаправлениеПотока = Перечисления.инт_НаправлениеПотокаДанных.Исходящий;
        // Все тесты будут проводиться на одном тестовом документе, потому и тестовые данные будут обрабатываться одним обработчиком 
		ТекстОбработчика = "Результат = новый Соответствие;
		|Результат.Вставить(""uuid"", ИсходныеДанные.УникальныйИдентификатор());
		|Результат.Вставить(""date"", ИсходныеДанные.Дата);
		|Результат.Вставить(""text"", ИсходныеДанные.ДемоРеквизитСтрока);
		|МассивСтрок = Новый Массив;
		|Для каждого СтрокаТовары Из ИсходныеДанные.Товары Цикл
		|	МассивСтрок.Добавить(Новый Структура(""item, price, quantity"", СтрокаТовары.Название, СтрокаТовары.Цена, СтрокаТовары.Количество));
		|КонецЦикла;
		|Результат.Вставить(""items"", МассивСтрок);";
        
    Если НЕ ЗначениеЗаполнено(ИдентификаторПотока) Тогда
         ИдентификаторПотока = ЮТест.Данные().СлучайнаяСтрока(9);
    КонецЕсли;
    Пример = демо_Документ();
    Данные = ЮТест.Данные();
    Конструктор = Данные.КонструкторОбъекта(Справочники.инт_ПотокиДанных)
   
	.Установить("ТекстОбработчика", ТекстОбработчика)
    .Установить("НаправлениеПотока", НаправлениеПотока)
    .Установить("Активен", Активен)
    .Установить("Валидация", Валидация)
	.Установить("КоличествоПопытокОбработки",?(КоличествоПопытокОбработки = 0, Данные.СлучайноеЧисло(1, 4), КоличествоПопытокОбработки))
	.Установить("ПаузаМеждуПопыткамиОбработки",ПаузаМеждуПопыткамиОбработки)
    .Установить("Код", ?(ЗначениеЗаполнено(ИдентификаторПотока),ИдентификаторПотока, ЮТест.Данные().СлучайнаяСтрока(9)))
    .Установить("Пример", Пример)
	.Установить("ОтслеживаемыеРеквизиты", ЗначениеВСтрокуВнутр(Справочники.инт_ПотокиДанных.ЗаполнитьДеревоРеквизитовПоСсылке(Пример, Неопределено)));
    Конструктор.ТабличнаяЧасть("ПодписчикиПотока");
    
    Для сч = 1 По 3 Цикл
    	Конструктор.ДобавитьСтроку()
            .Установить("Подписчик", Подписчик());
    КонецЦикла;
    
    Возврат Конструктор.Записать();
    
КонецФункции

Функция ПотокДанныхВходящий(Активен = Истина,КоличествоПопытокОбработки =0, ПаузаМеждуПопыткамиОбработки=0, ИдентификаторПотока = "", АсинхроннаяОбработка = Истина) Экспорт
    
        НаправлениеПотока = Перечисления.инт_НаправлениеПотокаДанных.Входящий;
        // Все тесты будут проводиться на одном тестовом документе, потому и тестовые данные будут обрабатываться одним обработчиком 
        ТекстОбработчика = "Сообщить(""Привет из входящего потока данных"");";
    Если НЕ ЗначениеЗаполнено(ИдентификаторПотока) Тогда
         ИдентификаторПотока = ЮТест.Данные().СлучайнаяСтрока(9);
    КонецЕсли;
  
    Данные = ЮТест.Данные();
    Конструктор = Данные.КонструкторОбъекта(Справочники.инт_ПотокиДанных)
   
    .Установить("ТекстОбработчика", ТекстОбработчика)
    .Установить("НаправлениеПотока",НаправлениеПотока)
    .Установить("Активен",Активен)
    .Установить("АсинхроннаяОбработка",АсинхроннаяОбработка)
    .Установить("КоличествоПопытокОбработки",?(КоличествоПопытокОбработки = 0, Данные.СлучайноеЧисло(1, 4), КоличествоПопытокОбработки))
    .Установить("ПаузаМеждуПопыткамиОбработки",ПаузаМеждуПопыткамиОбработки)
    .Установить("Код", ИдентификаторПотока);

    Возврат Конструктор.Записать();
    
КонецФункции

Функция демо_Документ() Экспорт
    Конструктор = ЮТест.Данные().КонструкторОбъекта(Документы.демо_Документ);
    
    Конструктор
        .Фикция("ДемоРеквизитСтрока")
        .ТабличнаяЧасть("Товары");
    
    Для Инд = 1 По 10 Цикл
    Конструктор.ДобавитьСтроку()
        .Фикция("Название")
        .Фикция("Количество")
        .Фикция("Цена");
    КонецЦикла;
    
    Возврат Конструктор.Провести();
КонецФункции

Функция HTTPСервисЗапрос(ИдентификаторПотока="", ИдентификаторСообщения="", Тело=Неопределено) Экспорт
    
    Если Тело = Неопределено Тогда
        Тело = Новый Структура("hello", "world");
    КонецЕсли;

    Запрос = ЮТест.Данные().HTTPСервисЗапрос()
    
    .Метод("POST");
    Если ЗначениеЗаполнено(ИдентификаторПотока) Тогда
    	  Запрос.ДобавитьПараметрURL("flow_id", ИдентификаторПотока);
    КонецЕсли;
    Если ЗначениеЗаполнено(ИдентификаторСообщения) Тогда
    	  Запрос.ДобавитьПараметрURL("message_id", ИдентификаторСообщения);
    КонецЕсли;
    
    Если ТипЗнч(Тело) = Тип("Строка") Тогда
        Запрос.УстановитьТелоКакСтроку(Тело);
    Иначе
        Запрос.УстановитьТелоКакСтрокуJSON(Тело)
    КонецЕсли;
    
    Возврат запрос;
КонецФункции

Функция HTTPСервисОтвет(КодСостояния, Тело) Экспорт

    Ответ = Новый HTTPСервисОтвет(КодСостояния);
    Ответ.УстановитьТелоИзСтроки(Тело);
    Возврат Ответ;
КонецФункции

Функция СхемаДанных(Внешняя = Истина) Экспорт
	Конструктор = ЮТест.Данные().КонструкторОбъекта(Справочники.инт_Схемы);
	Конструктор
		.ФикцияОбязательныхПолей()
		.Установить("Внешняя", Внешняя)
		.Установить("СсылкаНаСхему", "https://cloud.1cdevelopers.ru/s/6LNdep8exoRq6yK/download/openapi.json");
		
	Возврат Конструктор;
КонецФункции

// Функция - Создает тестовый эндпоинт
//
// Параметры:
//  ТипАвторизации - Строка, ПеречислениеСсылка.инт_ТипыАвторизации - Тип авторизации:
//    "Basic", "Digest", "Bearer", "ApiKey", "Tls", "Анонимный"
//  АдресРесурса - Строка - URL эндпоинта (по умолчанию https://httpbin.org)
//  ПроверятьSSL - Булево - Проверять SSL сертификат (по умолчанию Истина)
//  ТаймаутСоединения - Число - Таймаут в секундах (по умолчанию 30)
//
// Возвращаемое значение:
//  СправочникСсылка.инт_Эндпоинты - Ссылка на созданный эндпоинт
//
Функция Эндпоинт(ТипАвторизации = "Анонимный", АдресРесурса = "https://httpbin.org", ПроверятьSSL = Истина, ТаймаутСоединения = 30) Экспорт
	
	ТипАвторизацииЗначение = ПолучитьТипАвторизации(ТипАвторизации);
	
	Конструктор = ЮТест.Данные().КонструкторОбъекта(Справочники.инт_Эндпоинты);
	Конструктор
		.Установить("Наименование", СтрШаблон("Тестовый эндпоинт %1", ЮТест.Данные().СлучайнаяСтрока(5)))
		.Установить("АдресРесурса", АдресРесурса)
		.Установить("ТипАвторизации", ТипАвторизацииЗначение)
		.Установить("ПроверятьSSL", ПроверятьSSL)
		.Установить("ТаймаутСоединения", ТаймаутСоединения);
	
	Эндпоинт = Конструктор.Записать();
	
	// Записываем тестовые учётные данные в безопасное хранилище
	ЗаполнитьТестовыеУчетныеДанные(Эндпоинт, ТипАвторизацииЗначение);
	
	Возврат Эндпоинт;
	
КонецФункции

// Функция - Эндпоинт с Basic авторизацией
//
// Параметры:
//  Пользователь - Строка - Имя пользователя
//  Пароль - Строка - Пароль
//  АдресРесурса - Строка - URL эндпоинта
//
// Возвращаемое значение:
//  СправочникСсылка.инт_Эндпоинты - Ссылка на созданный эндпоинт
//
Функция ЭндпоинтBasic(Пользователь = "testuser", Пароль = "testpass", АдресРесурса = "https://httpbin.org") Экспорт
	
	Эндпоинт = Эндпоинт("Basic", АдресРесурса);
	
	УстановитьПривилегированныйРежим(Истина);
	инт_РаботаСБезопаснымХранилищем.ЗаписатьДанныеВБезопасноеХранилище(Эндпоинт, Пользователь, "Basic_Пользователь");
	инт_РаботаСБезопаснымХранилищем.ЗаписатьДанныеВБезопасноеХранилище(Эндпоинт, Пароль, "Basic_Пароль");
	УстановитьПривилегированныйРежим(Ложь);
	
	Возврат Эндпоинт;
	
КонецФункции

// Функция - Эндпоинт с Bearer авторизацией
//
// Параметры:
//  Токен - Строка - Bearer токен
//  АдресРесурса - Строка - URL эндпоинта
//
// Возвращаемое значение:
//  СправочникСсылка.инт_Эндпоинты - Ссылка на созданный эндпоинт
//
Функция ЭндпоинтBearer(Токен = "test_bearer_token_12345", АдресРесурса = "https://httpbin.org") Экспорт
	
	Эндпоинт = Эндпоинт("Bearer", АдресРесурса);
	
	УстановитьПривилегированныйРежим(Истина);
	инт_РаботаСБезопаснымХранилищем.ЗаписатьДанныеВБезопасноеХранилище(Эндпоинт, Токен, "Bearer_Токен");
	УстановитьПривилегированныйРежим(Ложь);
	
	Возврат Эндпоинт;
	
КонецФункции

// Функция - Эндпоинт с ApiKey авторизацией
//
// Параметры:
//  ИмяЗаголовка - Строка - Имя заголовка для API ключа
//  Значение - Строка - Значение API ключа
//  АдресРесурса - Строка - URL эндпоинта
//
// Возвращаемое значение:
//  СправочникСсылка.инт_Эндпоинты - Ссылка на созданный эндпоинт
//
Функция ЭндпоинтApiKey(ИмяЗаголовка = "X-API-Key", Значение = "test_api_key_67890", АдресРесурса = "https://httpbin.org") Экспорт
	
	Эндпоинт = Эндпоинт("ApiKey", АдресРесурса);
	
	УстановитьПривилегированныйРежим(Истина);
	инт_РаботаСБезопаснымХранилищем.ЗаписатьДанныеВБезопасноеХранилище(Эндпоинт, ИмяЗаголовка, "ApiKey_ИмяЗаголовка");
	инт_РаботаСБезопаснымХранилищем.ЗаписатьДанныеВБезопасноеХранилище(Эндпоинт, Значение, "ApiKey_Значение");
	УстановитьПривилегированныйРежим(Ложь);
	
	Возврат Эндпоинт;
	
КонецФункции

// Функция - Эндпоинт с Digest авторизацией
//
// Параметры:
//  Пользователь - Строка - Имя пользователя
//  Пароль - Строка - Пароль
//  АдресРесурса - Строка - URL эндпоинта
//
// Возвращаемое значение:
//  СправочникСсылка.инт_Эндпоинты - Ссылка на созданный эндпоинт
//
Функция ЭндпоинтDigest(Пользователь = "digestuser", Пароль = "digestpass", АдресРесурса = "https://httpbin.org") Экспорт
	
	Эндпоинт = Эндпоинт("Digest", АдресРесурса);
	
	УстановитьПривилегированныйРежим(Истина);
	инт_РаботаСБезопаснымХранилищем.ЗаписатьДанныеВБезопасноеХранилище(Эндпоинт, Пользователь, "Digest_Пользователь");
	инт_РаботаСБезопаснымХранилищем.ЗаписатьДанныеВБезопасноеХранилище(Эндпоинт, Пароль, "Digest_Пароль");
	УстановитьПривилегированныйРежим(Ложь);
	
	Возврат Эндпоинт;
	
КонецФункции

// Функция - Подписчик HTTP с эндпоинтом определённого типа авторизации
//
// Параметры:
//  Эндпоинт - СправочникСсылка.инт_Эндпоинты - Ссылка на эндпоинт
//
// Возвращаемое значение:
//  СправочникСсылка.инт_ПодписчикиHTTP - Ссылка на созданного подписчика
//
Функция ПодписчикHTTP(Эндпоинт = Неопределено) Экспорт
	
	Если Эндпоинт = Неопределено Тогда
		Эндпоинт = Эндпоинт("Анонимный");
	КонецЕсли;
	
	Конструктор = ЮТест.Данные().КонструкторОбъекта(Справочники.инт_ПодписчикиHTTP)
		.ФикцияОбязательныхПолей()
		.Установить("Эндпоинт", Эндпоинт)
		.Установить("Активен", Истина)
		.Установить("КоличествоПопытокОтправки", 3)
		.Установить("ПаузаМеждуПопыткамиОбработки", 0);
	
	Возврат Конструктор.Записать();
	
КонецФункции

// Функция - Подписчик JRPC с эндпоинтом определённого типа авторизации
//
// Параметры:
//  Эндпоинт - СправочникСсылка.инт_Эндпоинты - Ссылка на эндпоинт
//
// Возвращаемое значение:
//  СправочникСсылка.инт_ПодписчикиJRPC - Ссылка на созданного подписчика
//
Функция ПодписчикJRPC(Эндпоинт = Неопределено) Экспорт
	
	Если Эндпоинт = Неопределено Тогда
		Эндпоинт = Эндпоинт("Анонимный");
	КонецЕсли;
	
	Конструктор = ЮТест.Данные().КонструкторОбъекта(Справочники.инт_ПодписчикиJRPC)
		.ФикцияОбязательныхПолей()
		.Установить("Эндпоинт", Эндпоинт)
		.Установить("Активен", Истина)
		.Установить("КоличествоПопытокОтправки", 3)
		.Установить("ПаузаМеждуПопыткамиОбработки", 0);
	
	Возврат Конструктор.Записать();
	
КонецФункции

// Функция - Подписчик Kafka с эндпоинтом (адрес брокеров)
//
// Параметры:
//  Эндпоинт - СправочникСсылка.инт_Эндпоинты - Ссылка на эндпоинт (АдресРесурса = адрес брокеров)
//  ИмяТопика - Строка - Имя Kafka-топика
//  ПакетнаяОбработка - Булево - Использовать пакетную отправку
//
// Возвращаемое значение:
//  СправочникСсылка.инт_ПодписчикиKafka - Ссылка на созданного подписчика
//
Функция ПодписчикKafka(Эндпоинт = Неопределено, ИмяТопика = "test-topic", ПакетнаяОбработка = Ложь) Экспорт
	
	Если Эндпоинт = Неопределено Тогда
		Эндпоинт = Эндпоинт("Анонимный", "localhost:9092");
	КонецЕсли;
	
	Конструктор = ЮТест.Данные().КонструкторОбъекта(Справочники.инт_ПодписчикиKafka)
		.ФикцияОбязательныхПолей()
		.Установить("Эндпоинт", Эндпоинт)
		.Установить("ИмяТопика", ИмяТопика)
		.Установить("ПакетнаяОбработка", ПакетнаяОбработка)
		.Установить("Активен", Истина)
		.Установить("КоличествоПопытокОтправки", 3)
		.Установить("ПаузаМеждуПопыткамиОбработки", 0);
	
	Возврат Конструктор.Записать();
	
КонецФункции

// Функция - Подписчик ПодсистемаИнтеграции с эндпоинтом
//
// Параметры:
//  Эндпоинт - СправочникСсылка.инт_Эндпоинты - Ссылка на эндпоинт
//
// Возвращаемое значение:
//  СправочникСсылка.инт_ПодписчикиПодсистемаИнтеграции - Ссылка на созданного подписчика
//
Функция ПодписчикПодсистемаИнтеграции(Эндпоинт = Неопределено) Экспорт
	
	Если Эндпоинт = Неопределено Тогда
		Эндпоинт = Эндпоинт("Анонимный");
	КонецЕсли;
	
	Конструктор = ЮТест.Данные().КонструкторОбъекта(Справочники.инт_ПодписчикиПодсистемаИнтеграции)
		.ФикцияОбязательныхПолей()
		.Установить("Эндпоинт", Эндпоинт)
		.Установить("Активен", Истина)
		.Установить("КоличествоПопытокОтправки", 3)
		.Установить("ПаузаМеждуПопыткамиОбработки", 0);
	
	Возврат Конструктор.Записать();
	
КонецФункции

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

Функция ПолучитьТипАвторизации(ТипАвторизации)
	
	Если ТипЗнч(ТипАвторизации) = Тип("ПеречислениеСсылка.инт_ТипыАвторизации") Тогда
		Возврат ТипАвторизации;
	КонецЕсли;
	
	Соответствие = Новый Соответствие;
	Соответствие.Вставить("Basic", Перечисления.инт_ТипыАвторизации.Basic);
	Соответствие.Вставить("Digest", Перечисления.инт_ТипыАвторизации.Digest);
	Соответствие.Вставить("Bearer", Перечисления.инт_ТипыАвторизации.Bearer);
	Соответствие.Вставить("ApiKey", Перечисления.инт_ТипыАвторизации.ApiKey);
	Соответствие.Вставить("Tls", Перечисления.инт_ТипыАвторизации.Tls);
	Соответствие.Вставить("Анонимный", Перечисления.инт_ТипыАвторизации.Анонимный);
	
	Результат = Соответствие.Получить(ТипАвторизации);
	Если Результат = Неопределено Тогда
		Возврат Перечисления.инт_ТипыАвторизации.Анонимный;
	КонецЕсли;
	
	Возврат Результат;
	
КонецФункции

Процедура ЗаполнитьТестовыеУчетныеДанные(Эндпоинт, ТипАвторизации)
	
	УстановитьПривилегированныйРежим(Истина);
	
	Если ТипАвторизации = Перечисления.инт_ТипыАвторизации.Basic Тогда
		инт_РаботаСБезопаснымХранилищем.ЗаписатьДанныеВБезопасноеХранилище(Эндпоинт, "test_user", "Basic_Пользователь");
		инт_РаботаСБезопаснымХранилищем.ЗаписатьДанныеВБезопасноеХранилище(Эндпоинт, "test_password", "Basic_Пароль");
		
	ИначеЕсли ТипАвторизации = Перечисления.инт_ТипыАвторизации.Digest Тогда
		инт_РаботаСБезопаснымХранилищем.ЗаписатьДанныеВБезопасноеХранилище(Эндпоинт, "digest_user", "Digest_Пользователь");
		инт_РаботаСБезопаснымХранилищем.ЗаписатьДанныеВБезопасноеХранилище(Эндпоинт, "digest_password", "Digest_Пароль");
		
	ИначеЕсли ТипАвторизации = Перечисления.инт_ТипыАвторизации.Bearer Тогда
		инт_РаботаСБезопаснымХранилищем.ЗаписатьДанныеВБезопасноеХранилище(Эндпоинт, "test_bearer_token", "Bearer_Токен");
		
	ИначеЕсли ТипАвторизации = Перечисления.инт_ТипыАвторизации.ApiKey Тогда
		инт_РаботаСБезопаснымХранилищем.ЗаписатьДанныеВБезопасноеХранилище(Эндпоинт, "X-API-Key", "ApiKey_ИмяЗаголовка");
		инт_РаботаСБезопаснымХранилищем.ЗаписатьДанныеВБезопасноеХранилище(Эндпоинт, "test_api_key_value", "ApiKey_Значение");
		
	ИначеЕсли ТипАвторизации = Перечисления.инт_ТипыАвторизации.Tls Тогда
		инт_РаботаСБезопаснымХранилищем.ЗаписатьДанныеВБезопасноеХранилище(Эндпоинт, "C:\certs\test.pfx", "Tls_СертификатПуть");
		инт_РаботаСБезопаснымХранилищем.ЗаписатьДанныеВБезопасноеХранилище(Эндпоинт, "cert_password", "Tls_СертификатПароль");
	КонецЕсли;
	
	УстановитьПривилегированныйРежим(Ложь);
	
КонецПроцедуры

Функция МенеджерСправочникаПодписчиков(ТипПодписчика)
    Если ТипПодписчика = Неопределено 
        ИЛИ ТипПодписчика = Перечисления.инт_ТипыПодписчиков.ПроизвольныйHTTP Тогда
        Возврат Справочники.инт_ПодписчикиHTTP;
    ИначеЕсли ТипПодписчика = Перечисления.инт_ТипыПодписчиков.RabbitMQ Тогда
        Возврат Справочники.инт_ПодписчикиRabbitMQ;
    ИначеЕсли ТипПодписчика = Перечисления.инт_ТипыПодписчиков.JRPC2 Тогда
        Возврат Справочники.инт_ПодписчикиJRPC;
    ИначеЕсли ТипПодписчика = Перечисления.инт_ТипыПодписчиков.Kafka Тогда
        Возврат Справочники.инт_ПодписчикиKafka;
    ИначеЕсли ТипПодписчика = Перечисления.инт_ТипыПодписчиков.ПодсистемаИнтеграции Тогда
        Возврат Справочники.инт_ПодписчикиПодсистемаИнтеграции;
    Иначе
        ВызватьИсключение СтрШаблон("Неизвестный тип подписчика: %1", ТипПодписчика);
    КонецЕсли;
КонецФункции

#КонецОбласти